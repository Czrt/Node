<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="assets/css/gouwu.css">
</head>
<body>
	<div class="quanbu">
		<ul>
			<li><a href=""><span>全部商品 3</span></a></li>
			<li><a href=""><span>京东大药房</span></a></li>
			<li><span>配送至 : </span>
				<div class="beijing"> 北京朝阳区三环到四环之间</div>
			</li>
		</ul>
	</div>
	<div class="quanxuan">
		<div class="quanxuan-left">
			<div class="quanxuan-1">	
				<input type="checkbox">全选
			</div>
			<div class="shangpin">商品</div>
		</div>
		<div class="quanxuan-right">
			<div class="caozuo">操作</div>
			<div class="xiaoji">小计</div>
			<div class="shuliang">数量</div>
			<div class="danjia">单价</div>
		</div>
	</div>
	<div class="ziying">
		 <div>
		 	<input type="checkbox"><span><a href="">京东自营</a></span>
		 </div>
		 <span>已免运费</span>
	</div>
	<div class="shangpin-1">
		<input type="checkbox"  class="every">
		<div class="jingshuiji">
			<div class="tuwen">
				<img src="http://img10.360buyimg.com/cms/s80x80_jfs/t6160/252/1108807414/86268/73418884/594b4b16Neaa1836d.jpg" alt="">
				<a href="">霍尼韦尔（Honeywell）HRO-400 RO反渗透直饮净水器无桶家用厨下净水机</a>
				<span><a href="">支持7天无理由退货</a></span>
			</div>
			<div class="yanse">
				<span>颜色：送489元智能龙头5级过滤...</span>
			</div>
			<div class="jiage">
				<strong>2999.00</strong><br>
				<a href="">更多促销<b>∨</b></a>
			</div>
			<div class="jia-jian">
				<a href="javascript:void(0);">-</a>
				<input type="text" value="0">
				<a href="javascript:void(0);">+</a>
				<span>有货</span>
			</div>
			<div class="guige">
				<strong>0</strong><br>
				<span>11kg</span>
			</div>
			<div class="shanchu">
				<a href="javascript:void(0);">删除</a><br>
				<a href="">移到我的关注
</a><br>
				<a href="">加到我的关注
</a><br>
			</div>
		</div>
	</div>
	<div class="shangpin-1">
		<input type="checkbox" class="every">
		<div class="jingshuiji">
			<div class="tuwen">
				<img src="http://img10.360buyimg.com/cms/s80x80_jfs/t6160/252/1108807414/86268/73418884/594b4b16Neaa1836d.jpg" alt="">
				<a href="">霍尼韦尔（Honeywell）HRO-400 RO反渗透直饮净水器无桶家用厨下净水机</a>
				<span><a href="">支持7天无理由退货</a></span>
			</div>
			<div class="yanse">
				<span>颜色：送489元智能龙头5级过滤...</span>
			</div>
			<div class="jiage">
				<strong>2999.00</strong><br>
				<a href="">更多促销<b>∨</b></a>
			</div>
			<div class="jia-jian">
				<a href="javascript:void(0);">-</a>
				<input type="text" value="0">
				<a href="javascript:void(0);">+</a>
				<span>有货</span>
			</div>
			<div class="guige">
				<strong>0</strong><br>
				<span>11kg</span>
			</div>
			<div class="shanchu">
				<a href="javascript:void(0);">删除</a><br>
				<a href="">移到我的关注
</a><br>
				<a href="">加到我的关注
</a><br>
			</div>
		</div>
	</div>
	<div class="shangpin-1">
		<input type="checkbox" class="every">
		<div class="jingshuiji">
			<div class="tuwen">
				<img src="http://img10.360buyimg.com/cms/s80x80_jfs/t6160/252/1108807414/86268/73418884/594b4b16Neaa1836d.jpg" alt="">
				<a href="">霍尼韦尔（Honeywell）HRO-400 RO反渗透直饮净水器无桶家用厨下净水机</a>
				<span><a href="">支持7天无理由退货</a></span>
			</div>
			<div class="yanse">
				<span>颜色：送489元智能龙头5级过滤...</span>
			</div>
			<div class="jiage">
				<strong>2999.00</strong><br>
				<a href="">更多促销<b>∨</b></a>
			</div>
			<div class="jia-jian">
				<a href="javascript:void(0);">-</a>
				<input type="text" value="0">
				<a href="javascript:void(0);">+</a>
				<span>有货</span>
			</div>
			<div class="guige">
				<strong>0</strong><br>
				<span>11kg</span>
			</div>
			<div class="shanchu">
				<a href="javascript:void(0);">删除</a><br>
				<a href="">移到我的关注
</a><br>
				<a href="">加到我的关注
</a><br>
			</div>
		</div>
	</div>
	<div class="jiesuan">
		<div class="quanxuan-2">
			<input type="checkbox">全选
		</div>
		<div class="qingchu">
			<a href="">删除选中的商品</a>
			<a href="">移到我的关注</a>
			<a href="">清除下柜商品</a>
		</div>
		<div class="qujiesuan">
			<a href="">去结算</a>
		</div>
		<div class="jiesheng">
			<div class="jiesheng-right">
				<span>总价: </span><span><em>6376.00</em></span><b></b>
			</div>
			<span>已节省: </span><span>- ¥200.00</span>
		</div>
		<div class="zuihou">
			已选择<em>3</em>件商品<b>∧</b>
		</div>
	</div>

	<script src="assets/js/jquery.min.js"></script>
	<script>
	$(function(){
		$('.jia-jian a:first-child').each(function(){ 
			$(this).click(function(){
				var shuliang = $(this).next().val();
				shuliang--;
				if(shuliang < 0){
					return false;
				}
				$(this).next().val(shuliang);
				var danjia = $(this).parent().prev().children('strong').text();
				var xiaoji = danjia * shuliang;
				console.log(xiaoji);
				$(this).parent().next().children('strong').text(xiaoji);
					to();
			})
		})
		$('.jia-jian a:nth-child(3)').each(function(){
			$(this).click(function(){
				var shuliang = $(this).prev().val();
				shuliang++;
				$(this).prev().val(shuliang);
				var danjia = $(this).parent().prev().children('strong').text();
				var xiaoji = danjia * shuliang;
				console.log(xiaoji);
				$(this).parent().next().children('strong').text(xiaoji);
				to();
			})
		})

		$('.shanchu a:first-child').each(function(){
			$(this).click(function(){
				$(this).parent().parent().parent().remove();
				to();
			})
		})

		$('.jia-jian input').each(function(){
			$(this).change(function(){
				var danjia = $(this).parent().prev().children('strong').text();
				$(this).parent().next().children('strong').text($(this).val()*danjia);
				to();
			})
		})
		// 全选反选
		$('.quanxuan-1 input').click(function(){
			$('.shangpin-1').children('input').prop('checked',$(this).prop('checked'));
			to();
		})


		// 总数量
		function to(){
			var zong = 0;
			$('.jia-jian input').each(function(){
			if($(this).parent().parent().siblings('input').prop('checked')){
				zong += Number($(this).val());
			}
			})
			$('.zuihou em').text(zong);

			// 总价格
			var zj = 0;
			$('.guige strong').each(function(){
				if($(this).parent().parent().siblings('input').prop('checked')){
					zj += Number($(this).text());
				}
			})
			$('.jiesheng-right span:nth-child(2) em').text(zj);
		}
		to();

		$('.every').click(function(){
						to();
						if ($('.every:checked').length == $('.shangpin-1').length) {
							$('.quanxuan-1 input').prop('checked',true);
						} else {
							$('.quanxuan-1 input').prop('checked',false);
						}
		})
	})
	</script>
</body>
</html>